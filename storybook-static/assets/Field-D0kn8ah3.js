import{g as _,R as e}from"./index-DHo17Z-2.js";import{r as z,I as E,D as R}from"./Add-Tg1wRw98.js";import{u as j,a as W,b as H,c as N}from"./useTranslation-CIlBtmPs.js";import{r as J}from"./GlobalStyles-KJ2eBfj0.js";import{r as Q}from"./jsx-runtime-DKNAYBdV.js";import{M as X}from"./MultipleChoice-C64TKVAu.js";import{S as G}from"./SingleChoice-KyR9RStX.js";import{s as i,P as K,T as V,S as Y,F as Z,I as $}from"./TextField-CrZXFGCP.js";import{B as l}from"./Box-BLsYhM4q.js";import{M as U,T as m,D as ee,S as te}from"./Switch-B2uidYV1.js";import{T as b,F as re}from"./FormControlLabel-DOMja7zO.js";var u={},x;function ne(){if(x)return u;x=1;var t=J();Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=t(z()),c=Q();return u.default=(0,s.default)((0,c.jsx)("path",{d:"M2 12c0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2 2 6.48 2 12m10-1h4v2h-4v3l-4-4 4-4z"}),"ArrowCircleLeft"),u}var ae=ne();const y=_(ae),p=({})=>e.createElement(e.Fragment,null);p.__docgenInfo={description:"",methods:[],displayName:"ShortText",props:{field:{required:!0,tsType:{name:"Field"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(field: Field) => void",signature:{arguments:[{type:{name:"Field"},name:"field"}],return:{name:"void"}}},description:""}}};const C=()=>e.createElement(e.Fragment,null);C.__docgenInfo={description:"",methods:[],displayName:"LongText",props:{field:{required:!0,tsType:{name:"Field"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(field: Field) => void",signature:{arguments:[{type:{name:"Field"},name:"field"}],return:{name:"void"}}},description:""}}};const oe=i(K)(({theme:t})=>({padding:t.spacing(3),marginBottom:t.spacing(2),paddingTop:t.spacing(6),position:"relative",borderRadius:"12px",border:"1px solid #96A3BD",boxShadow:"none"})),le=i(l)({position:"absolute",top:10,left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center",gap:"8px"}),f=i(E)(({theme:t})=>({backgroundColor:t.palette.background.paper,padding:4,"&:hover":{backgroundColor:t.palette.action.hover},"&.Mui-disabled":{backgroundColor:t.palette.action.disabledBackground}})),v=i(V)({"& .MuiOutlinedInput-root":{padding:"8px 16px","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#005EF9",borderWidth:"2px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#005EF97A"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#005EF9"}},"& .MuiInputBase-input":{lineHeight:"24px",height:"24px",padding:"8px 0px","&::placeholder":{opacity:0},"&:focus::placeholder":{opacity:1}},"& .MuiInputLabel-root":{lineHeight:"36px"}}),ie=i(Y)({padding:"8px 16px","& .MuiSelect-outlined":{padding:"8px 0",borderColor:"#005EF97A"},"& .MuiSelect-icon":{color:"#005EF97A"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#005EF9",borderWidth:"2px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#005EF97A"},"&.MuiFormLabel-root":{lineHeight:2.4}}),se=i(U)({"&.MuiMenuItem-root":{padding:"16px 16px",minHeight:"40px"},"&.MuiMenuItem-root.Mui-selected":{backgroundColor:"#D4DBEB"}}),ue=({field:t,isSelected:s,onSelect:c,onUpdate:o,onDelete:T,index:a,moveField:d,totalFields:g})=>{var h;const{t:n}=j(),[{isDragging:F},I,q]=W({type:"field",item:{index:a},collect:r=>({isDragging:r.isDragging()})}),[,M]=H({accept:"field",hover:r=>{r.index!==a&&(d(r.index,a),r.index=a)}}),S=()=>{a>0&&d(a,a-1)},D=()=>{a<g-1&&d(a,a+1)},w=r=>{o({...t,label:r.target.value})},k=r=>{o({...t,description:r.target.value})},L=r=>{o({...t,type:r.target.value})},O=r=>{o({...t,required:r.target.checked})},P=200-(((h=t.label)==null?void 0:h.length)||0),A=[{value:"shortText",label:n("text.short")},{value:"longText",label:n("text.long")},{value:"singleChoice",label:n("choice.single")},{value:"multipleChoice",label:n("choice.multiple")},{value:"number",label:n("number.label")}],B=()=>{switch(t.type){case"shortText":return e.createElement(p,{field:t,onChange:o});case"longText":return e.createElement(C,{field:t,onChange:o});case"multipleChoice":return e.createElement(X,{field:t,onChange:o});case"singleChoice":return e.createElement(G,{field:t,onChange:o});case"number":return e.createElement(p,{field:t,onChange:o});default:return null}};return e.createElement("div",{ref:M},e.createElement("div",{ref:q,style:{opacity:F?.5:1}},e.createElement(oe,{elevation:0,onClick:()=>c(t.id),sx:{border:s?"1px solid #1D64E8":"1px solid #96A3BD",boxShadow:s?"1px 1px 4px 0px #5E90EF":"none",backgroundColor:"#FFF"},"data-testid":"field-paper"},e.createElement(le,{className:"drag-handle",ref:I},e.createElement(N,{style:{transform:"rotate(90deg)"}}),s&&e.createElement(e.Fragment,null,e.createElement(m,{title:n("common.moveDown")},e.createElement("span",null,e.createElement(f,{size:"small",onClick:r=>{r.stopPropagation(),D()},disabled:a===g-1},e.createElement(y,{fontSize:"small",style:{transform:"rotate(-90deg)"}})))),e.createElement(m,{title:n("common.moveUp")},e.createElement("span",null,e.createElement(f,{size:"small",onClick:r=>{r.stopPropagation(),S()},disabled:a===0},e.createElement(y,{fontSize:"small",style:{transform:"rotate(90deg)"}})))))),e.createElement(l,{display:"flex",gap:2},e.createElement(l,{flex:1},e.createElement(v,{fullWidth:!0,label:e.createElement(l,{component:"span"},n("common.question")," ",e.createElement(b,{component:"span",color:"error"},"*")),value:t.label||"",onChange:w,placeholder:n("common.questionPlaceholder"),variant:"outlined",size:"small",error:!t.label&&t.required,inputProps:{"aria-label":"question-input"}}),e.createElement(b,{variant:"caption",color:"textSecondary",sx:{mt:.5,display:"block"}},n("common.charactersLeft",{count:P})),e.createElement(v,{fullWidth:!0,label:n("common.helperText"),value:t.description||"",onChange:k,placeholder:n("common.helperTextPlaceholder"),variant:"outlined",size:"small",sx:{mt:2},inputProps:{"aria-label":"description-input"}})),e.createElement(Z,{size:"small",sx:{minWidth:200}},e.createElement($,null,n("common.inputType")),e.createElement(ie,{value:t.type||"shortText",onChange:L,label:n("common.inputType")},A.map(r=>e.createElement(se,{key:r.value,value:r.value},r.label))))),t.type&&e.createElement(e.Fragment,null,B()),e.createElement(l,{display:"flex",justifyContent:"flex-end",alignItems:"center",mt:"10px"},e.createElement(m,{title:n("common.delete")},e.createElement(E,{onClick:()=>T(t.id),size:"small",color:"default","data-testid":"delete-button",sx:{mr:1}},e.createElement(R,null))),e.createElement(ee,{orientation:"vertical",flexItem:!0,sx:{mx:2}}),e.createElement(l,{display:"flex",alignItems:"center"},!t.required&&e.createElement(l,{component:"span",sx:{width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#64748B",borderRadius:"50%",position:"absolute",right:55,zIndex:1}},"âœ•"),e.createElement(re,{labelPlacement:"start",control:e.createElement(te,{checked:t.required,onChange:O,color:"primary",inputProps:{"aria-label":"required-toggle"}}),label:n("common.required"),sx:{margin:0,"& .MuiFormControlLabel-label":{mr:1}}}))))))};ue.__docgenInfo={description:"",methods:[],displayName:"Field",props:{field:{required:!0,tsType:{name:"Field"},description:""},isSelected:{required:!0,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onUpdate:{required:!0,tsType:{name:"signature",type:"function",raw:"(field: Field) => void",signature:{arguments:[{type:{name:"Field"},name:"field"}],return:{name:"void"}}},description:""},onDelete:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},index:{required:!0,tsType:{name:"number"},description:""},moveField:{required:!0,tsType:{name:"signature",type:"function",raw:"(dragIndex: number, hoverIndex: number) => void",signature:{arguments:[{type:{name:"number"},name:"dragIndex"},{type:{name:"number"},name:"hoverIndex"}],return:{name:"void"}}},description:""},totalFields:{required:!0,tsType:{name:"number"},description:""}}};export{ue as F};
