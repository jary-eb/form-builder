import{r as h,R as t}from"./index-DSS4ElxF.js";import{s as c,B as y,P as _,a as C,u as I,D as P,H as A,F as H,T as U,A as N}from"./Field-DGkQe9fd.js";import{v as T}from"./v4-CtRu48qb.js";import"./jsx-runtime-DjN6Ymlz.js";import"./context-X1H7efR9.js";import"./index-DZcotkr4.js";import"./index-C2lUTbq6.js";const j=c(y)(({theme:e})=>({height:"100vh",display:"flex",flexDirection:"column",backgroundColor:e.palette.grey[100]})),L=c(y)(({theme:e})=>({flex:1,display:"flex",overflow:"hidden",gap:e.spacing(3),padding:e.spacing(3)})),O=c(_)(({theme:e})=>({flex:1,display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:e.shape.borderRadius})),z=c(y)(({theme:e})=>({flex:1,overflow:"auto",padding:e.spacing(2),display:"flex",flexDirection:"column",gap:e.spacing(2)})),G=c(C)(({theme:e})=>({marginTop:"auto",padding:e.spacing(2),justifyContent:"flex-start",borderStyle:"dashed",borderWidth:1,backgroundColor:e.palette.background.paper,"&:hover":{borderStyle:"dashed",backgroundColor:e.palette.action.hover}})),g=({initialFields:e=[{id:T(),type:"shortText",label:"",required:!1,description:"",validationMessage:"",defaultValue:""}],onChange:l})=>{var v;const{t:u}=I(),[o,p]=h.useState(e.map(a=>({...a,label:a.label||u("common.untitledQuestion")}))),[b,f]=h.useState(((v=e[0])==null?void 0:v.id)||null),M=()=>{const a={id:T(),type:"",label:u("common.untitledQuestion"),required:!1,description:"",validationMessage:"",defaultValue:""},r=[...o,a];p(r),f(a.id),l==null||l(r)},W=a=>{const r=o.map(i=>i.id===a.id?a:i);p(r),l==null||l(r)},V=a=>{const r=o.filter(i=>i.id!==a);p(r),b===a&&f(null),l==null||l(r)},Q=(a,r)=>{const i=o[a],m=[...o];m.splice(a,1),m.splice(r,0,i),p(m),l==null||l(m)};return t.createElement(P,{backend:A},t.createElement(j,null,t.createElement(L,null,t.createElement(O,null,t.createElement(z,null,o.map((a,r)=>t.createElement(H,{key:a.id,field:a,isSelected:b===a.id,onSelect:f,onUpdate:W,onDelete:V,index:r,moveField:Q,totalFields:o.length})),o.length===0&&t.createElement(y,{sx:{p:3,textAlign:"center",backgroundColor:"grey.50",borderRadius:1}},t.createElement(U,{color:"textSecondary"},u("common.addQuestion"))),t.createElement(G,{startIcon:t.createElement(N,null),onClick:M,variant:"outlined",color:"primary",fullWidth:!0},u("common.addQuestion")))))))};g.__docgenInfo={description:"",methods:[],displayName:"FormBuilder",props:{initialFields:{required:!1,tsType:{name:"Array",elements:[{name:"FieldType"}],raw:"FieldType[]"},description:"",defaultValue:{value:`[
  {
    id: uuidv4(),
    type: 'shortText',
    label: '',
    required: false,
    description: '',
    validationMessage: '',
    defaultValue: '',
  }
]`,computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(fields: FieldType[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"FieldType"}],raw:"FieldType[]"},name:"fields"}],return:{name:"void"}}},description:""},onFormDataChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: any) => void",signature:{arguments:[{type:{name:"any"},name:"data"}],return:{name:"void"}}},description:""},defaultRendererType:{required:!1,tsType:{name:"union",raw:"'material' | 'vanilla'",elements:[{name:"literal",value:"'material'"},{name:"literal",value:"'vanilla'"}]},description:""}}};const ae={title:"Components/FormBuilder",component:g,decorators:[e=>t.createElement(P,{backend:A},t.createElement(e,null))],parameters:{layout:"fullscreen"}},F=e=>t.createElement(g,{...e}),s=F.bind({});s.args={onChange:e=>console.log("Fields updated:",e),onFormDataChange:e=>console.log("Form data:",e),defaultRendererType:"material"};const d=F.bind({});d.args={initialFields:[{id:"1",type:"shortText",label:"Full Name",required:!0,placeholder:"Enter your full name",description:"Please provide your full legal name"},{id:"2",type:"email",label:"Email Address",required:!0,placeholder:"Enter your email",description:"We will use this email to contact you"},{id:"3",type:"singleChoice",label:"Preferred Contact Method",required:!0,description:"How would you like us to contact you?",options:[{id:"1",label:"Email",value:"email"},{id:"2",label:"Phone",value:"phone"},{id:"3",label:"Text Message",value:"sms"}]}],onChange:e=>console.log("Fields updated:",e),onFormDataChange:e=>console.log("Form data:",e),defaultRendererType:"material"};const n=F.bind({});n.args={initialFields:[{id:"1",type:"shortText",label:"Username",required:!0,placeholder:"Choose a username",description:"This will be your public display name"},{id:"2",type:"multipleChoice",label:"Interests",required:!0,description:"Select all that apply",options:[{id:"1",label:"Technology",value:"tech"},{id:"2",label:"Science",value:"science"},{id:"3",label:"Art",value:"art"},{id:"4",label:"Music",value:"music"}],minSelections:1,maxSelections:3}],onChange:e=>console.log("Fields updated:",e),onFormDataChange:e=>console.log("Form data:",e),defaultRendererType:"vanilla"};var x,E,S;s.parameters={...s.parameters,docs:{...(x=s.parameters)==null?void 0:x.docs,source:{originalSource:"args => <FormBuilder {...args} />",...(S=(E=s.parameters)==null?void 0:E.docs)==null?void 0:S.source}}};var w,B,k;d.parameters={...d.parameters,docs:{...(w=d.parameters)==null?void 0:w.docs,source:{originalSource:"args => <FormBuilder {...args} />",...(k=(B=d.parameters)==null?void 0:B.docs)==null?void 0:k.source}}};var q,D,R;n.parameters={...n.parameters,docs:{...(q=n.parameters)==null?void 0:q.docs,source:{originalSource:"args => <FormBuilder {...args} />",...(R=(D=n.parameters)==null?void 0:D.docs)==null?void 0:R.source}}};const te=["EmptyForm","WithPrefilledFields","WithVanillaRenderer"];export{s as EmptyForm,d as WithPrefilledFields,n as WithVanillaRenderer,te as __namedExportsOrder,ae as default};
