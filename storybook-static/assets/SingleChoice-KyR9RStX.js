import{R as a,r as c}from"./index-DHo17Z-2.js";import{I as E,D as x,A as I}from"./Add-Tg1wRw98.js";import{u as O,a as f,b as D,c as C}from"./useTranslation-CIlBtmPs.js";import{s as b,T as F}from"./TextField-CrZXFGCP.js";import{B as y}from"./Box-BLsYhM4q.js";import{F as k,T,B}from"./FormControlLabel-DOMja7zO.js";import{R as M}from"./Radio-BVPYsFBx.js";import{v}from"./v4-CtRu48qb.js";const S=b(F)({"& .MuiOutlinedInput-root":{padding:"8px 16px","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#005EF9",borderWidth:"2px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#005EF97A"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#005EF9"}},"& .MuiInputBase-input":{lineHeight:"24px",height:"24px",padding:"8px 0px","&::placeholder":{opacity:0},"&:focus::placeholder":{opacity:1}},"& .MuiInputLabel-root":{lineHeight:"36px"}}),R=b(y)(({theme:e})=>({display:"flex",alignItems:"center",gap:e.spacing(1),marginBottom:e.spacing(2.5),position:"relative","&:hover .drag-handle":{opacity:1}})),w=b(y)({opacity:0,cursor:"move",transition:"opacity 0.2s",display:"flex",alignItems:"center"}),z=a.memo(({option:e,index:t,isSelected:p,onOptionChange:u,onDefaultValueChange:d,onDelete:m,moveOption:g,isOnly:h})=>{const{t:s}=O(),[{isDragging:o},l,n]=f({type:"option",item:{index:t,id:e.id,type:"option"},collect:i=>({isDragging:i.isDragging()})}),[,r]=D({accept:"option",hover:i=>{i.index!==t&&(g(i.index,t),i.index=t)}});return a.createElement("div",{ref:r},a.createElement("div",{ref:n,style:{opacity:o?.5:1}},a.createElement(R,null,a.createElement(w,{className:"drag-handle",ref:l,title:s("common.dragToReorder")},a.createElement(C,null)),a.createElement(k,{control:a.createElement(M,{checked:p,onChange:()=>d(e.id),size:"small"}),label:""}),a.createElement(S,{fullWidth:!0,size:"small",label:s("choice.optionLabel",{number:t+1}),value:e.label,onChange:i=>u(e.id,i.target.value),placeholder:s("choice.optionLabel",{number:t+1}),variant:"outlined"}),a.createElement(E,{size:"small",onClick:()=>m(e.id),disabled:h,title:s("common.delete")},a.createElement(x,null)))))}),A=({field:e,onChange:t})=>{var s;const{t:p}=O(),u=c.useCallback((o,l)=>{var r;const n=((r=e.options)==null?void 0:r.map(i=>i.id===o?{...i,label:l,value:l}:i))||[];t({...e,options:n})},[e.options,t]),d=c.useCallback(()=>{const o={id:v(),label:"",value:""};t({...e,options:[...e.options||[],o]})},[e.options,t]),m=c.useCallback(o=>{var n;const l=((n=e.options)==null?void 0:n.filter(r=>r.id!==o))||[];t({...e,options:l})},[e.options,t]),g=c.useCallback(o=>{var n,r;const l=(r=(n=e.options)==null?void 0:n.find(i=>i.id===o))==null?void 0:r.value;t({...e,defaultValue:l})},[e.options,t]),h=c.useCallback((o,l)=>{const n=[...e.options||[]],r=n[o];n.splice(o,1),n.splice(l,0,r),t({...e,options:n})},[e.options,t]);return a.useEffect(()=>{if(!e.options||e.options.length===0){const o={id:v(),label:"",value:""};t({...e,options:[o]})}},[]),a.createElement(y,{my:"20px"},a.createElement(T,{fontSize:14,fontWeight:600,mb:"20px",lineHeight:"20px"},p("choice.options.single")),(s=e.options)==null?void 0:s.map((o,l)=>{var n;return a.createElement(z,{key:o.id,option:o,index:l,isSelected:e.defaultValue===o.value,onOptionChange:u,onDefaultValueChange:g,onDelete:m,moveOption:h,isOnly:((n=e.options)==null?void 0:n.length)===1})}),a.createElement(B,{startIcon:a.createElement(I,null),onClick:d,variant:"text",color:"primary",sx:{mt:1}},p("choice.addOption")))};A.__docgenInfo={description:"",methods:[],displayName:"SingleChoice",props:{field:{required:!0,tsType:{name:"Field"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(field: Field) => void",signature:{arguments:[{type:{name:"Field"},name:"field"}],return:{name:"void"}}},description:""}}};export{A as S};
